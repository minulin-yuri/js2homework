<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Интернет-магазин</title>
    <link href="https://fonts.googleapis.com/css2?family=Lobster&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/main.css">

</head>

<body>
    <div class="app" id="app">
        <header>
            <div class="container header">
                <a href="#">
                    <h1>{{ title }}</h1>
                </a>

                <div class="search">
                    <input type="text" v-model="searchLine">
                    <button class="search__icon" @click="filterGoods">
                        <svg aria-hidden="false" focusable="false" data-prefix="fas" data-icon="search"
                            class="svg-inline--fa fa-search fa-w-16 " role="img" xmlns="http://www.w3.org/2000/svg"
                            viewBox="0 0 512 512">
                            <path fill="currentColor"
                                d="M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z">
                            </path>
                        </svg>
                    </button>


                </div>
                <div class="links">
                    <div class="link">
                        <a :href="links.feedback">
                            <button class="btn-cart" type="button">
                                <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="comments"
                                    class="svg-inline--fa fa-comments fa-w-18 btn-cart__icon" role="img"
                                    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512">
                                    <path fill="currentColor"
                                        d="M416 192c0-88.4-93.1-160-208-160S0 103.6 0 192c0 34.3 14.1 65.9 38 92-13.4 30.2-35.5 54.2-35.8 54.5-2.2 2.3-2.8 5.7-1.5 8.7S4.8 352 8 352c36.6 0 66.9-12.3 88.7-25 32.2 15.7 70.3 25 111.3 25 114.9 0 208-71.6 208-160zm122 220c23.9-26 38-57.7 38-92 0-66.9-53.5-124.2-129.3-148.1.9 6.6 1.3 13.3 1.3 20.1 0 105.9-107.7 192-240 192-10.8 0-21.3-.8-31.7-1.9C207.8 439.6 281.8 480 368 480c41 0 79.1-9.2 111.3-25 21.8 12.7 52.1 25 88.7 25 3.2 0 6.1-1.9 7.3-4.8 1.3-2.9.7-6.3-1.5-8.7-.3-.3-22.4-24.2-35.8-54.5z">
                                    </path>
                                </svg>
                            </button>
                        </a>
                    </div>
                    <div class="link cart-link">
                        <a href="#" @click="isVisibleCart = !isVisibleCart">
                            <button class="btn-cart" type="button">
                                <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="shopping-cart"
                                    class="svg-inline--fa fa-shopping-cart fa-w-18 btn-cart__icon" role="img"
                                    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512">
                                    <path fill="currentColor"
                                        d="M528.12 301.319l47.273-208C578.806 78.301 567.391 64 551.99 64H159.208l-9.166-44.81C147.758 8.021 137.93 0 126.529 0H24C10.745 0 0 10.745 0 24v16c0 13.255 10.745 24 24 24h69.883l70.248 343.435C147.325 417.1 136 435.222 136 456c0 30.928 25.072 56 56 56s56-25.072 56-56c0-15.674-6.447-29.835-16.824-40h209.647C430.447 426.165 424 440.326 424 456c0 30.928 25.072 56 56 56s56-25.072 56-56c0-22.172-12.888-41.332-31.579-50.405l5.517-24.276c3.413-15.018-8.002-29.319-23.403-29.319H218.117l-6.545-32h293.145c11.206 0 20.92-7.754 23.403-18.681z">
                                    </path>
                                </svg>
                            </button>
                        </a>
                        <div class="cart" v-if="isVisibleCart">
                            <h3>Корзина</h3>
                            <div v-if="order.length > 0">
                                <div class="cart-item" v-for="item of order" :key="item.product.id_product">
                                    <div class="cart-item__img"><img :src="imgCatalogMini"
                                            alt="item.product.product_name">
                                    </div>
                                    <div class="cart-item__title">
                                        <p>{{ item.product.product_name }}</p>
                                    </div>
                                    <div class="cart-item__price">
                                        <p>{{ item.product.price }}</p>
                                    </div>
                                    <div class="cart-item__count">
                                        <a href="#" class="cart-item__add" @click="item.count++">
                                            <svg aria-hidden="true" focusable="false" data-prefix="fas"
                                                data-icon="plus-circle" class="svg-inline--fa fa-plus-circle fa-w-16"
                                                role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">
                                                <path fill="currentColor"
                                                    d="M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm144 276c0 6.6-5.4 12-12 12h-92v92c0 6.6-5.4 12-12 12h-56c-6.6 0-12-5.4-12-12v-92h-92c-6.6 0-12-5.4-12-12v-56c0-6.6 5.4-12 12-12h92v-92c0-6.6 5.4-12 12-12h56c6.6 0 12 5.4 12 12v92h92c6.6 0 12 5.4 12 12v56z">
                                                </path>
                                            </svg>
                                        </a>
                                        <input type="text" :value="item.count">
                                        <a href="#" class="cart-item__delete" @click="decrementCount(item)">
                                            <svg aria-hidden="true" focusable="false" data-prefix="fas"
                                                data-icon="minus-circle" class="svg-inline--fa fa-minus-circle fa-w-16"
                                                role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">
                                                <path fill="currentColor"
                                                    d="M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zM124 296c-6.6 0-12-5.4-12-12v-56c0-6.6 5.4-12 12-12h264c6.6 0 12 5.4 12 12v56c0 6.6-5.4 12-12 12H124z">
                                                </path>
                                            </svg>
                                        </a>
                                        <a href="#" class="cart-item__remove" @click="removeItem(item)">
                                            <svg aria-hidden="true" focusable="false" data-prefix="far"
                                                data-icon="trash-alt" class="svg-inline--fa fa-trash-alt fa-w-14"
                                                role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512">
                                                <path fill="currentColor"
                                                    d="M268 416h24a12 12 0 0 0 12-12V188a12 12 0 0 0-12-12h-24a12 12 0 0 0-12 12v216a12 12 0 0 0 12 12zM432 80h-82.41l-34-56.7A48 48 0 0 0 274.41 0H173.59a48 48 0 0 0-41.16 23.3L98.41 80H16A16 16 0 0 0 0 96v16a16 16 0 0 0 16 16h16v336a48 48 0 0 0 48 48h288a48 48 0 0 0 48-48V128h16a16 16 0 0 0 16-16V96a16 16 0 0 0-16-16zM171.84 50.91A6 6 0 0 1 177 48h94a6 6 0 0 1 5.15 2.91L293.61 80H154.39zM368 464H80V128h288zm-212-48h24a12 12 0 0 0 12-12V188a12 12 0 0 0-12-12h-24a12 12 0 0 0-12 12v216a12 12 0 0 0 12 12z">
                                                </path>
                                            </svg>
                                        </a>
                                    </div>

                                </div>
                            </div>

                            <div v-else>
                                <p>Ваша корзина пуста</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </header>
        <main>
            <div class="container">
                <div class="content">
                    <div class="products">
                        <div class="product-item" v-for="product of products" :key="product.id_product">
                            <img :src="imgCatalog" alt="product.product_name">
                            <h3>{{ product.product_name }}</h3>
                            <p>{{ product.price }}</p>
                            <button class="by-btn" @click="addProduct(product)">Добавить</button>
                        </div>
                        <div v-if="notData">
                            <p>Нет данных</p>
                        </div>
                    </div>


                </div>
            </div>
        </main>
        <footer></footer>
    </div>


    <script src="https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js"></script>
    <script src="./js/app.js"></script>

</body>

</html>